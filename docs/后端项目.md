# 后端项目

## 项目结构

```shell
backend/
├── cmd/
│   └── raftserver/
│       └── main.go            // 项目入口，启动 HTTP/WebSocket 服务、加载配置、初始化 Raft 模拟机
├── internal/
│   ├── config/
│   │   └── config.go          // 配置模块，定义配置结构体、加载与更新配置（例如节点数、动画速率等）
│   ├── raft/
│   │   ├── raft.go            // Raft 状态机核心逻辑（选举、日志复制、安全性检查）
│   │   └── log.go             // 日志记录与复制相关的辅助函数（模拟 Raft 日志操作）
│   ├── kvstore/
│   │   └── kvstore.go         // 模拟键值存储，实现对“数据写入/读取”操作的封装，同时记录日志条目
│   ├── websocket/
│   │   └── ws.go              // WebSocket 模块，负责建立连接、管理连接池、广播状态消息到前端
│   └── server/
│       ├── http.go            // HTTP 服务模块，使用 Gin 或 net/http 提供 REST API 及 WebSocket 升级入口
│       └── routes.go          // 定义路由及 API 端点，绑定各模块接口（例如配置更新、状态查询）
├── pkg/
│   └── model/
│       ├── node.go            // 定义 Raft 节点相关数据结构及枚举（Follower、Candidate、Leader）
│       ├── logentry.go        // 定义日志条目的结构体（包括索引、任期号、命令内容等）
│       └── message.go         // 定义用于 WebSocket 传输的消息格式（例如状态更新、日志复制事件）
├── go.mod                   // 模块依赖管理文件
└── go.sum                   // 模块校验文件
```
